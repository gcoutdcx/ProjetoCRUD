@model List<ProjetoCRUD.Models.Pessoa>
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Cadastro de Usuários</title>

    <link rel="stylesheet" type="text/css" href="~/assets/css/bootstrap.min.css" />

    <style type="text/css">
        body {
            background-color: #D0D0D0
        }
    </style>

    <h1>
        <font color="black" size="15px">
            <b>
                <i>Cadastro de Usuários</i>
            </b>
        </font>
    </h1>

</head>
<body>
    <form id="idform">
        <table id="userTable" class="table">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Foto</th>
                    <th>Nome</th>
                    <th>Email</th>
                    <th>Editar</th>
                    <th>Excluir</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.Count; i++)
                {
                <tr>
                    <td>@Model[i].Id</td>
                    <td>@Model[i].Nome</td>
                    <td>@Model[i].Email</td>
                    <td>
                        <button type="button" onclick="exibirNomeId(@Model[i].Id)">Exibir</button>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </form>


    <div id="vao"></div>
    <div>

        <button class="btn btn-primary fa fa-pencil" type="button" onclick="abrirModal()">Cadastrar</button>
    </div>

    <script type="text/javascript" src="~/assets/js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="~/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript">

        function abrirModal() {
            if ($.active) {
                return;
            }

            $.ajax({
                url: "@Url.Action("Modal","Usuario")",
                cache: false,
                success: function (dados) {
                    $("#vao").html(dados);
                    $("#meuModal").modal();
                },
                error: function () {
                    alert("Deu erro");
                }
            });

        }

    </script>
</body>
</html>
